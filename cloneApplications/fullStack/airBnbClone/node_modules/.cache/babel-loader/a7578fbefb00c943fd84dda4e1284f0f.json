{"ast":null,"code":"import { useRef, useEffect } from 'react';\nimport raf from \"rc-util/es/raf\";\nimport useForceUpdate from '../_util/hooks/useForceUpdate'; // Note. Only for upload usage. Do not export to global util hooks\n\nexport default function useFreshState(defaultValue, propValue) {\n  var valueRef = useRef(defaultValue);\n  var forceUpdate = useForceUpdate();\n  var rafRef = useRef(); // Set value\n\n  function setValue(newValue) {\n    valueRef.current = newValue;\n    forceUpdate();\n  }\n\n  function cleanUp() {\n    raf.cancel(rafRef.current);\n  }\n\n  function rafSyncValue(newValue) {\n    cleanUp();\n    rafRef.current = raf(function () {\n      setValue(newValue);\n    });\n  } // Get value\n\n\n  function getValue() {\n    var displayValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    if (displayValue) {\n      return propValue || valueRef.current;\n    }\n\n    return valueRef.current;\n  } // Effect will always update in a next frame to avoid sync state overwrite current processing state\n\n\n  useEffect(function () {\n    if (propValue) {\n      rafSyncValue(propValue);\n    }\n  }, [propValue]); // Clean up\n\n  useEffect(function () {\n    return function () {\n      cleanUp();\n    };\n  }, []);\n  return [getValue, setValue];\n}","map":{"version":3,"names":["useRef","useEffect","raf","useForceUpdate","useFreshState","defaultValue","propValue","valueRef","forceUpdate","rafRef","setValue","newValue","current","cleanUp","cancel","rafSyncValue","getValue","displayValue","arguments","length","undefined"],"sources":["/Users/laurenmcguire/Desktop/portfolio_projects/cloneApplications/fullStack/airBnbClone/node_modules/antd/es/upload/useFreshState.js"],"sourcesContent":["import { useRef, useEffect } from 'react';\nimport raf from \"rc-util/es/raf\";\nimport useForceUpdate from '../_util/hooks/useForceUpdate'; // Note. Only for upload usage. Do not export to global util hooks\n\nexport default function useFreshState(defaultValue, propValue) {\n  var valueRef = useRef(defaultValue);\n  var forceUpdate = useForceUpdate();\n  var rafRef = useRef(); // Set value\n\n  function setValue(newValue) {\n    valueRef.current = newValue;\n    forceUpdate();\n  }\n\n  function cleanUp() {\n    raf.cancel(rafRef.current);\n  }\n\n  function rafSyncValue(newValue) {\n    cleanUp();\n    rafRef.current = raf(function () {\n      setValue(newValue);\n    });\n  } // Get value\n\n\n  function getValue() {\n    var displayValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    if (displayValue) {\n      return propValue || valueRef.current;\n    }\n\n    return valueRef.current;\n  } // Effect will always update in a next frame to avoid sync state overwrite current processing state\n\n\n  useEffect(function () {\n    if (propValue) {\n      rafSyncValue(propValue);\n    }\n  }, [propValue]); // Clean up\n\n  useEffect(function () {\n    return function () {\n      cleanUp();\n    };\n  }, []);\n  return [getValue, setValue];\n}"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,SAAjB,QAAkC,OAAlC;AACA,OAAOC,GAAP,MAAgB,gBAAhB;AACA,OAAOC,cAAP,MAA2B,+BAA3B,C,CAA4D;;AAE5D,eAAe,SAASC,aAAT,CAAuBC,YAAvB,EAAqCC,SAArC,EAAgD;EAC7D,IAAIC,QAAQ,GAAGP,MAAM,CAACK,YAAD,CAArB;EACA,IAAIG,WAAW,GAAGL,cAAc,EAAhC;EACA,IAAIM,MAAM,GAAGT,MAAM,EAAnB,CAH6D,CAGtC;;EAEvB,SAASU,QAAT,CAAkBC,QAAlB,EAA4B;IAC1BJ,QAAQ,CAACK,OAAT,GAAmBD,QAAnB;IACAH,WAAW;EACZ;;EAED,SAASK,OAAT,GAAmB;IACjBX,GAAG,CAACY,MAAJ,CAAWL,MAAM,CAACG,OAAlB;EACD;;EAED,SAASG,YAAT,CAAsBJ,QAAtB,EAAgC;IAC9BE,OAAO;IACPJ,MAAM,CAACG,OAAP,GAAiBV,GAAG,CAAC,YAAY;MAC/BQ,QAAQ,CAACC,QAAD,CAAR;IACD,CAFmB,CAApB;EAGD,CAnB4D,CAmB3D;;;EAGF,SAASK,QAAT,GAAoB;IAClB,IAAIC,YAAY,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAAvF;;IAEA,IAAID,YAAJ,EAAkB;MAChB,OAAOX,SAAS,IAAIC,QAAQ,CAACK,OAA7B;IACD;;IAED,OAAOL,QAAQ,CAACK,OAAhB;EACD,CA9B4D,CA8B3D;;;EAGFX,SAAS,CAAC,YAAY;IACpB,IAAIK,SAAJ,EAAe;MACbS,YAAY,CAACT,SAAD,CAAZ;IACD;EACF,CAJQ,EAIN,CAACA,SAAD,CAJM,CAAT,CAjC6D,CAqC5C;;EAEjBL,SAAS,CAAC,YAAY;IACpB,OAAO,YAAY;MACjBY,OAAO;IACR,CAFD;EAGD,CAJQ,EAIN,EAJM,CAAT;EAKA,OAAO,CAACG,QAAD,EAAWN,QAAX,CAAP;AACD"},"metadata":{},"sourceType":"module"}